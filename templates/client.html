<!DOCTYPE html>
<html style="height: 100%">
<head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js" crossorigin="anonymous"></script>
    <script src="{{ url_for('static', filename="scripts/papaparse.min.js") }}"></script>
    <style>
        #data-textarea {
            font-size: 14px;
            resize: none;
        }
    </style>
</head>

<body style="height: 100%">
    <nav class="navbar navbar-dark bg-dark mb-2">
        <a class="navbar-brand" href='/'>FB Prophet Time Series Toolkit Test</a>
    </nav>

    <div class="container-fluid m-0">
        <form>
            <div class="form-group">
                <h3 for="raw-data">Step 1. Data</h3>
                <p>
                    Choose or paste in CSV.<br/>
                    Format: <strong>no headers; date in column 1; value in column 2.</strong>
                </p>
                <div class="input-group mb-1">
                    <input type="file" class="custom-file-input" id="raw-data-file-input">
                    <label class="custom-file-label" for="raw-data-file-input" id="raw-data-file-label">Choose file</label>
                </div>
                <textarea class="form-control" rows=10 id="raw-data"></textarea>
            </div>

            <h3>Step 2. Model Settings</h3>
            <div class="form-group">
                <h5>Growth Assumption</h5>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="growth" id="growth-linear-input" value="linear" checked>
                    <label class="form-check-label" for="growth-linear-input">Linear</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="radio" name="growth" id="growth-log-input" value="logistic">
                    <label class="form-check-label" for="growth-log-input">Logistic</label>
                </div>
            </div>

            <div class="form-group">
                <h5>Changepoints</h5>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text"># of changepoints</span>
                    </div>
                    <input type="number" min="0" step="1" class="form-control" id="n-changepoints-input" placeholder="25" value="25">
                </div>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Changepoint range</span>
                    </div>
                    <input type="number" class="form-control" id="changepoint-range-input" placeholder="0.8" value="0.8">
                </div>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Changepoint prior scale</span>
                    </div>
                    <input type="number" class="form-control" id="changepoint-prior-scale-input" placeholder="0.05" value="0.05">
                </div>
            </div>

            <div class="form-group">
                <h5>Seasonality</h5>

                <h6>Mode</h6>
                <div class="form-check form-check-inline mb-1">
                    <input class="form-check-input" type="radio" name="seasonality-mode" id="seasonality-mode-additive-input" value="additive" checked>
                    <label class="form-check-label" for="seasonality-mode-additive-input">Additive</label>
                </div>
                <div class="form-check form-check-inline mb-1">
                    <input class="form-check-input" type="radio" name="seasonality-mode" id="seasonality-mode-multiplicative-input" value="multiplicative">
                    <label class="form-check-label" for="seasonality-mode-multiplicative-input">Multiplicative</label>
                </div>

                <h6>Period</h6>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="seasonality" id="auto-seasonality-input" value="auto_seasonality" checked>
                    <label class="form-check-label" for="auto-seasonality-input">Auto detect</label>
                </div>
                </br>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="yearly-seasonality" id="yearly-seasonality-input" value="yearly_seasonality" disabled>
                    <label class="form-check-label" for="yearly-seasonality-input">Yearly</label>
                </div>
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="weekly-seasonality" id="weekly-seasonality-input" value="weekly_seasonality" disabled>
                    <label class="form-check-label" for="weekly-seasonality-input">Weekly</label>
                </div>
                <div class="form-check form-check-inline mb-1">
                    <input class="form-check-input" type="checkbox" name="daily-seasonality" id="daily-seasonality-input" value="daily_seasonality" disabled>
                    <label class="form-check-label" for="daily-seasonality-input">Daily</label>
                </div>

                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Seasonality prior scale</span>
                    </div>
                    <input type="number" class="form-control" id="seasonality-prior-scale-input" placeholder="10.0" value="10.0">
                </div>
            </div>

            <div class="form-group">
                <h5>Sampling</h5>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">MCMC samples</span>
                    </div>
                    <input type="number" step="1" min="0" class="form-control" id="mcmc-samples-input" placeholder="0" value="0">
                </div>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Interval width</span>
                    </div>
                    <input type="text" class="form-control" id="interval-width-input" placeholder="0.8" value="0.8">
                </div>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Uncertainty samples</span>
                    </div>
                    <input type="text" step="1" min="0" class="form-control" id="uncertainty-samples-input" placeholder="1000" value="1000">
                </div>
            </div>

            <div class="form-group">
                <h5>Prediction</h5>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Prediction periods</span>
                    </div>
                    <input type="number" min="0" step="1" class="form-control" id="periods-input" placeholder="0" value="0">
                </div>
                <div class="input-group mb-1">
                    <div class="input-group-prepend">
                        <span class="input-group-text">Prediction period frequency</span>
                    </div>
                    <select class="custom-select" id="freq-input">
                        <option value='Y'>Year</option>
                        <option value='M'>Month</option>
                        <option value='D' selected>Day</option>
                        <option value='H'>Hour</option>
                        <option value='M'>Minute</option>
                        <option value='S'>Second</option>
                    </select>
                </div>
                <div class="form-check form-check-inline mb-1">
                    <input class="form-check-input" type="checkbox" name="include-history" id="include-history-input" value="include_history" checked>
                    <label class="form-check-label" for="include-history-input">Include history</label>
                </div>
            </div>

            <div class="input-group mb-3">
                <button type="button" class="btn btn-primary" id="submit-button">Step 3. Submit and Run</button>
            </div>
        </form>
    </div>
    <script src="{{ url_for('static', filename="scripts/client.js") }}"></script>
</body>

</html>
